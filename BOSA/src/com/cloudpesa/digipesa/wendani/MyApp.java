package com.cloudpesa.digipesa.wendani;


import static com.codename1.ui.CN.*;
import com.codename1.ui.Form;
import com.codename1.ui.Dialog;
import com.codename1.ui.plaf.UIManager;
import com.codename1.ui.util.Resources;
import com.codename1.ui.Toolbar;
import com.codename1.io.Storage;

/**
 * This file was generated by <a href="https://www.codenameone.com/">Codename One</a> for the purpose 
 * of building native mobile applications using Java.
 */
public class MyApp {

    private Form current;
    private Resources theme;

    public void init(Object context) 
    {
        // use two network threads instead of one
        updateNetworkThreadCount(2);

        theme = UIManager.initFirstTheme("/theme");
        Toolbar.setGlobalToolbar(true);

        addNetworkErrorListener(err -> 
        {
            err.consume();
            if(err.getError() != null) 
            {
            }
            Dialog.show("Connection Error", "There was a networking error in the connection", "Close", "Retry");
        });        
    }
    
    public void start() {
        if(current != null){
            current.show();
            return;
        }
        String guaranteed = "{\"member\" :{\"mno\" :\"99212233\",\"name\" :\"FESTUS K. MUTINDA\",\"nationalId\" : \"2032002\"}, \"guaranteed\" :[{\"loanNo\": \"DEV00391\",\"mno\": \"\",\"name\": \"\",\"amount\": \"158,363\"},{\"loanNo\": \"DEV05921\",\"mno\": \"\",\"name\": \"\",\"amount\": \"34,863\"},{\"loanNo\": \"LN09526\",\"mno\": \"\",\"name\": \"\",\"amount\": \"600,000\"}]}";
        String Member = "{\"member\" :{\"mNo\" :\"99212233\",\"name\" :\"FESTUS K. MUTINDA\",\"nationalId\" : \"5770409\",\"mobileNo\" : \"254743901110\",\"status\" : \"Active\"}, \"accounts\" :[{\"accountName\" : \"Share Capital\",\"balance\" : \"14,000.50\"},{\"accountName\" : \"Deposit Contribution\",\"balance\" : \"646,893.43\"},{\"accountName\" : \"Insurance Contribution\",\"balance\" : \"10,950.00\"}]}";
        String Statements = "{\"member\" :{\"mno\" :\"99212233\",\"name\" :\"FESTUS K. MUTINDA\",\"nationalId\" : \"5770409\"}, \"transactions\" :[{\"transDate\": \"12/31/22\",\"description\" : \"Interest on Dep. Capitalized - 2022\",\"amount\" : \"25,000.13 KES\"},{\"transDate\": \"12/31/22\",\"description\" : \"Dividend Capitalized - 2022\",\"amount\" : \"12,500.72 KES\"},{\"transDate\": \"12/31/22\",\"description\" : \"Share Capital Recovered from Deposits\",\"amount\" : \"1,928.52 KES\"},{\"transDate\": \"12/31/22\",\"description\" : \"Insuarance Recovery 2022\",\"amount\" : \"1,200.00 KES\"},{\"transDate\": \"12/10/22\",\"description\" : \"PayBill to Deposit Contribution\",\"amount\" : \"2,000.00 KES\"},{\"transDate\": \"10/17/22\",\"description\" : \"PayBill to Deposit Contribution\",\"amount\" : \"2,000.00 KES\"},{\"transDate\": \"10/17/22\",\"description\" : \"Deposit Contribution\",\"amount\" : \"58,900.10 KES\"},{\"transDate\": \"09/20/22\",\"description\" : \"PayBill to Deposit Contribution\",\"amount\" : \"3,000.00 KES\"},{\"transDate\": \"08/23/22\",\"description\" : \"PayBill to Deposit Contribution\",\"amount\" : \"6,020.00 KES\"},{\"transDate\": \"08/12/22\",\"description\" : \"Deposit Contribution\",\"amount\" : \"13,456.50 KES\"},{\"transDate\": \"07/11/22\",\"description\" : \"PayBill to Deposit Contribution\",\"amount\" : \"12,000.00 KES\"},{\"transDate\": \"06/13/22\",\"description\" : \"PayBill to Deposit Contribution\",\"amount\" : \"2,000.00 KES\"},{\"transDate\": \"05/18/22\",\"description\" : \"PayBill to Deposit Contribution\",\"amount\" : \"12,000.00 KES\"},{\"transDate\": \"05/02/22\",\"description\" : \"Deposit Contribution\",\"amount\" : \"12,600.25 KES\"},{\"transDate\": \"04/21/22\",\"description\" : \"PayBill to Deposit Contribution\",\"amount\" : \"-2,000.00 KES\"},{\"transDate\": \"03/26/22\",\"description\" : \"PayBill to Deposit Contribution\",\"amount\" : \"22,000.00 KES\"},{\"transDate\": \"02/22/22\",\"description\" : \"PayBill to Deposit Contribution\",\"amount\" : \"52,000.00 KES\"},{\"transDate\": \"01/21/22\",\"description\" : \"PayBill to Deposit Contribution\",\"amount\" : \"-2,000.00 KES\"},{\"transDate\": \"01/06/22\",\"description\" : \"Deposits Contribution\",\"amount\" : \"2,000.00 KES\"},{\"transDate\": \"01/04/22\",\"description\" : \"Deposit Contribution\",\"amount\" : \"-2,000.00 KES\"}]}";
        String loans = "{\"member\" :{\"mno\" :\"99212233\",\"name\" :\"FESTUS K. MUTINDA\",\"nationalId\" : \"5770409\"}, \"loans\" :[{\"loanNo\": \"LN00001\",\"loanType\": \"DEV LOAN\",\"balance\" : \"342,164\",\"dateTaken\" : \"05/04/21\",\"installmentAmount\" : \"36\",\"dateDue\" : \"05/04/24\"},{\"loanNo\": \"LN11002\",\"loanType\": \"INSTANT\",\"balance\" : \"69,860.9\",\"dateTaken\" : \"10/21/22\",\"installmentAmount\" : \"6\",\"dateDue\" : \"04/21/23\"}]}";
        String guarantors = "{\"LoansGuaranteed\":[{\"loanNo\": \"LN00769\",\"memberNo\": \"000005\",\"name\": \"MEMBER ONE\",\"amountGuaranteed\": \"329,893\"},{\"loanNo\": \"LN00769\",\"memberNo\": \"000028\",\"name\": \"MEMBER TWO\",\"amountGuaranteed\": \"0.000000000005\"},{\"loanNo\": \"LN00769\",\"memberNo\": \"000193\",\"name\": \"MEMBER THREE\",\"amountGuaranteed\": \"-908,992.53100585938\"},{\"loanNo\": \"LN00769\",\"memberNo\": \"002380\",\"name\": \"MEMER TEST\",\"amountGuaranteed\": \"603,000\"},{\"loanNo\": \"LN00769\",\"memberNo\": \"002456\",\"name\": \"ANOTHER MEMBER\",\"amountGuaranteed\": \"483,983\"},{\"loanNo\": \"LN07718\",\"memberNo\": \"000193\",\"name\": \"PHARIS MACHARIA MWANGI\",\"amountGuaranteed\": \"190,000\"},{\"loanNo\": \"LN07718\",\"memberNo\": \"002456\",\"name\": \"FINAL MEMBER HERE\",\"amountGuaranteed\": \"200,000\"}]}";
        String balances = "{\"AccountName\": \"FosaAccount\",\"AccountBalance\": \"20,000.00\"},{\n" +
"      \"AccountName\": \"BosaAccount\",\n" +
"      \"AccountBalance\": \"20,000.00\"\n" +
"    },{\n" +
"      \"AccountName\": \"Flash Account\",\n" +
"      \"AccountBalance\": \"50,000.00\"\n" +
"    }";
        
        Storage.getInstance().writeObject("MemberProfile.json", Member);
        Storage.getInstance().writeObject("Guaranteed.json", guaranteed);
        Storage.getInstance().writeObject("Loans.json", loans);
        Storage.getInstance().writeObject("Guarantors.json", guarantors);
        Storage.getInstance().writeObject("Statements.json", Statements);
        Storage.getInstance().writeObject("balances.json", balances);
        
        new SplashScreen().show();
    }

    public void stop() {
        current = getCurrentForm();
        if(current instanceof Dialog) {
            ((Dialog)current).dispose();
            current = getCurrentForm();
        }
    }
    
    public void destroy() {
    }

}
